# Plan

설계 또는 외부 스펙을 실행 가능한 작업 단위로 분해한다.

## 목적

설계 또는 외부 스펙을, **실제 구현에 착수할 수 있는 작업 계획으로 전환**한다. 설계와 코드 사이의 간극을 메운다.

### 핵심 시나리오

- design이 완성되면, plan을 통해 구현에 필요한 작업 목록과 순서가 도출된다
- 외부 스펙이 주어지면, plan을 통해 작업을 분해하면서 concept/design/decision이 함께 도출된다
- 구현 중 plan을 참조하면, 현재 작업의 맥락과 다음 작업을 파악할 수 있다

## 동작 원리

<!-- How(구현 방법)가 아닌 What(무엇을 달성하는가)에 집중한다. -->

### 주요 개념

- **방향 감지**: 기존 loom 문서(concept, design) 존재 여부와 진입점으로 흐름을 판단
  - 정방향: design이 이미 존재하거나, `/loom.design`에서 핸드오버된 경우. 작업 분해에 집중
  - 역방향: 관련 concept/design이 없는 상태에서 외부 스펙이 입력된 경우. 작업 분해 과정에서 concept/design/decision을 함께 생성
- **맥락 확보**: 정방향에서는 design 문서와 관련 concept, decision을 읽어 설계 의도를 파악. 역방향에서는 외부 스펙을 입력으로 받음
- **작업 분해**: 설계를 **코드 초안을 작성할 수 있을 정도**의 작업 단위로 나눔. design의 모델링, 데이터 흐름, 비즈니스 로직 각 요소가 분해의 입력이 된다
- **순서와 의존**: 작업 간 선후 관계와 의존성을 정리하여 단계적으로 나열
- **연관관계 표기**: 병렬 진행 가능한 작업을 별도로 표기한다. 이는 작업 간 연관관계의 강도를 드러내는 장치이며, 병렬 수행 자체가 목적이 아니다
- **출력 목적지**: 작업 계획이 기록되는 장소. 사용자에게 저장 방식을 제안한다

### 핵심 동작

- **계획 수립**: design 또는 외부 스펙을 기반으로 작업을 도출하고 의존성에 따라 순서를 결정
- **맥락 주입**: 정방향에서는 loom 문서(concept, design, decision)를 자동으로 읽어 plan에 반영
- **산출물 생성**: 역방향에서는 작업 분해 과정에서 파악된 핵심 개념과 설계를 concept/design/decision 문서로 생성
- **출력**: 본문은 단계적 작업 목록, 참조 섹션에 병렬 가능 작업을 기술

## 경계

- 구현 계획 자체는 영속 문서로 남지 않는다 (concept, design과 다름)
- 코드를 직접 작성하지 않는다 (구현 자체는 plan 이후)
- 구현 계획의 저장 방식에 대해 의견을 갖지 않는다 (사용자에게 제안)
- 병렬성은 연관관계의 강도를 드러내는 정보이지, 동시 실행을 지시하는 것이 아니다
- 정방향에서는 What/Why 정의([[concept]]에서), How 설계([[design]]에서)를 직접 다루지 않는다
- 역방향에서는 작업 분해 과정의 부산물로 concept/design/decision을 생성할 수 있다

## 하위 컨셉

없음

## 관련 컨셉

- [[design]] - 정방향에서는 plan의 입력, 역방향에서는 plan의 산출물
- [[concept]] - 정방향에서는 plan이 참조하는 원래 의도(What/Why), 역방향에서는 plan의 산출물
- [[decision]] - plan 수립 시 이전 결정 맥락을 참고. 역방향에서는 plan 과정의 선택을 기록

## 결정 로그

- [[../decisions/2026-02-12-plan-컨셉-도입]]
- [[../decisions/2026-02-12-plan-작업분해-기준]]
- [[../decisions/2026-02-14-plan-역방향-흐름-도입]]
- [[../decisions/2026-02-14-plan-커맨드-도입]]
