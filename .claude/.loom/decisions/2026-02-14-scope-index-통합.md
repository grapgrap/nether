# 2026-02-14-scope-index-통합

## 맥락

loom 시스템의 역할과 원칙을 설명하는 문서가 부재했다. 시스템 원칙(워크플로 비강제 등)이 개별 컨셉 문서에 분산되거나 누락되어 있었다.

scope 컨셉은 "specify가 동작하는 범위"로 정의되어 있었으나, 실제로는 모든 loom 커맨드의 경계 역할을 했다. scope의 역할을 분석한 결과:

1. **경계 정의** — `.loom/` 디렉토리의 물리적 위치가 이미 암시
2. **경계 탐지** — 각 커맨드의 워크플로에 이미 기술됨

index는 "지도"로 정의되어 있었으나, 각 `.loom/` 디렉토리의 진입점으로서 자기설명 역할이 필요했다. scope의 경계 역할과 index의 진입점 역할을 결합하면 자연스러운 하나의 컨셉이 된다.

## 결정 내용

### 1. index를 자기설명 문서로 확장

index의 역할을 "지도"에서 "자기설명 + 경계 + 지도"로 확장한다. 각 `.loom/index.md`는 해당 scope의 진입점으로서 목적, 원칙(시스템 scope인 경우), 컨셉 목록, 관계 구조를 제공한다.

### 2. scope 컨셉을 index에 흡수

scope의 경계 정의와 탐지 메커니즘을 index에 통합한다. scope는 독립 컨셉에서 제거되고, 용어로만 사용된다.

### 3. 시스템 원칙을 `.claude/.loom/index.md`에 기술

loom 시스템 전체의 원칙(What/Why와 How 분리, 워크플로 비강제 등)을 시스템 scope의 index에 기술한다. 이전에 개별 컨셉에 분산되어 있던 시스템 수준의 원칙이 하나의 문서에 모인다.

### 제약 조건

- scope라는 용어는 여전히 사용됨 (커맨드의 "Scope 확인" 단계 등)
- 기존 decision 문서는 역사적 기록으로서 수정하지 않음

### 전제 조건

- `.loom/` 디렉토리의 물리적 위치가 scope를 충분히 정의함
- index가 진입점 역할을 이미 하고 있으므로 자기설명 확장이 자연스러움

## 대안

### scope를 유지하고 별도의 시스템 문서 추가

- 설명: scope 컨셉을 그대로 두고, `.claude/.loom/about.md` 같은 별도 문서로 시스템 원칙을 기술
- 트레이드오프: 문서가 늘어나고, scope의 역할 모호성이 해결되지 않음. index가 이미 진입점 역할을 하므로 중복됨

### loom 자체를 컨셉으로 정의

- 설명: `.claude/.loom/concepts/loom.md`로 시스템 자체를 자기참조적 컨셉으로 정의
- 트레이드오프: 메타 레벨의 자기참조가 불필요한 복잡성을 추가. index의 자기설명 확장으로 충분히 해결 가능

## 영향받는 컨셉

- [[index]] - 역할 확장 (자기설명 + 경계 + 지도)
- scope - 독립 컨셉에서 제거, index에 흡수
- [[concept]] - scope 관계 제거, index 관계 업데이트
- [[decision]] - scope 관계 제거
