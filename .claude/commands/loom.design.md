# /loom.design - 컨셉의 구현 설계

[[concept]]의 구현 방법(How)을 설계하고 [[decision]]을 기록합니다.
**모델링, 데이터 흐름, 비즈니스 로직에 집중합니다. 상세 구현은 다루지 않습니다.**

## 워크플로우

1. Scope 확인
2. 대상 컨셉 확인
3. Design 도출 (대화)
4. 산출물 생성

## 지시사항

### 1단계: Scope 확인

[[scope]]를 확인합니다. `/loom.specify`에서 이어지는 경우 동일한 scope를 사용합니다.

**방법**:

- 이전 대화에서 scope가 확정된 경우: 그대로 사용
- 명시적 지정: `/loom.design {서비스명}/{컨셉명}`으로 직접 지정

### 2단계: 대상 컨셉 확인

설계할 컨셉을 확인합니다.

1. **컨셉 존재 확인**: `.loom/concepts/`에서 대상 컨셉 확인
2. **관계 파악**: 하위 컨셉과 관련 컨셉 확인
3. **기존 design 확인**: `.loom/designs/`에서 기존 설계 여부 확인

### 3단계: Design 도출 (대화 중심)

사용자와 대화하며 컨셉의 **How**를 구체화합니다.

**대화 목표**:

- 모델링: 상태, 엔티티, 관계
- 데이터 흐름: 입력 → 처리 → 출력
- 비즈니스 로직: 규칙, 조건, 분기

**하위 컨셉 활용**:

컨셉이 하위 컨셉을 가진 경우, 하위 컨셉들이 어떻게 협력하는지 기술합니다.
각 하위 컨셉의 역할과 상호작용을 명확히 합니다.

**결정 기록**:

설계 과정에서 발생하는 모든 선택은 [[decision]]으로 기록합니다.

### 4단계: 산출물 생성

대화가 충분히 진행된 후 문서를 생성합니다.

**생성 파일**:

```
{scope}/.loom/designs/{컨셉명}.md
{scope}/.loom/decisions/{YYYY-MM-DD}-{요약}.md
```

**템플릿**:

- design 문서: `.claude/.loom/templates/design.md`
- decision 문서: `.claude/.loom/templates/decision.md`

## 핵심 원칙

| 원칙 | 설명 |
| --- | --- |
| **How 집중** | What/Why는 concept에서, 상세 구현은 다음 단계에서 |
| **대화 우선** | 산출물은 충분한 대화 후에 |
| **컨셉 기반** | 반드시 대응하는 concept이 있어야 함 |
| **결정 기록** | 모든 설계 선택은 decision으로 |

## 참고

- design과 concept은 1:1 대응
- 컨셉 참조: `[[컨셉명]]` 형식 Wiki link
- Decision 연결: `[[YYYY-MM-DD-요약]]` 형식

$ARGUMENTS
