# /loom.specify - 요구사항에서 컨셉 도출

요구사항을 분석하여 [[concept]]을 도출하고 [[decision]]을 기록합니다.
**What과 Why에 집중합니다. How는 `/loom.design`에서 다룹니다.**

## 워크플로우

1. Scope 결정
2. 요구사항 분석
3. Concept 도출 (대화)
4. 산출물 생성

## 지시사항

### 1단계: Scope 결정

작업할 scope를 확정합니다. 모든 탐색과 산출물의 기준점입니다.

**방법**:

- 암시적: 요구사항 맥락에서 서비스 추론
- 명시적: `/loom.specify {서비스명}`으로 직접 지정

**모노레포 구조**:

```
monorepo/
├── .claude/.loom/templates/  # 템플릿
└── services/
    └── {서비스명}/.loom/     # ← Scope별 .loom/
```

### 2단계: 요구사항 분석

해결해야 할 문제와 필요한 컨셉을 탐색합니다.

1. **문제 정의**: 해결하려는 문제가 무엇인가?
2. **컨셉 탐색**: 이 문제를 해결하기 위해 필요한 컨셉은?
3. **기존 컨셉 확인**: `.loom/concepts/` 탐색, 관계 판단

### 3단계: Concept 도출 (대화 중심)

사용자와 대화하며 컨셉의 **What**과 **Why**를 명확화합니다.

**판단 기준**:

| 유형     | 조건                                  |
| -------- | ------------------------------------- |
| **확장** | 기존 컨셉 범위 내, 핵심 목적 동일     |
| **신규** | 독립적 문제 영역, 기존에 포함 안 됨   |
| **분화** | 기존 컨셉 비대화, 하위 영역 분리 필요 |

**대화 목표**:

- 컨셉의 목적 (왜 필요한가)
- 동작 원리 (어떻게 목표를 달성하는가)
- 경계 (의도적으로 하지 않는 것)
- 관계 (다른 컨셉과의 연결)

**중요**: 사용자와 충분한 대화로 역할과 경계를 명확히 합니다.

**How 시그널**:
사용자가 구현(How)을 이야기하기 시작하면:
→ 컨셉 명확화 완료 신호
→ `/loom.design`으로 전환하여 설계 단계 진행

### 4단계: 산출물 생성

대화가 충분히 진행된 후 문서를 생성합니다.

**생성 파일**:

```
{scope}/.loom/concepts/{컨셉명}.md
{scope}/.loom/decisions/{YYYY-MM-DD}-{요약}.md
{scope}/.loom/index.md (인덱스 업데이트)
```

**템플릿**:

- concept 문서: `.claude/.loom/templates/concept.md`
- decision 문서: `.claude/.loom/templates/decision.md`

**Decision 기록 내용**:

- 내린 선택들 (왜 이렇게 정의했는가)
- 선택하지 않은 대안들 (왜 선택하지 않았는가)
- 영향받는 컨셉 링크

## 핵심 원칙

| 원칙              | 설명                       |
| ----------------- | -------------------------- |
| **What/Why 집중** | How는 `/loom.design`에서   |
| **대화 우선**     | 산출물은 충분한 대화 후에  |
| **확장 우선**     | 기존 컨셉 활용을 먼저 검토 |
| **How = 전환**    | 구현 이야기 = 다음 단계로  |

## 참고

- 컨셉 간 관계: `[[컨셉명]]` 형식 Wiki link
- Decision 연결: `[[YYYY-MM-DD-요약]]` 형식
- 다른 서비스 참조: `[[../다른서비스/컨셉명]]`

$ARGUMENTS
